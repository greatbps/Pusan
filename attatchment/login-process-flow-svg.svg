<svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">
  <!-- 배경 및 정의 -->
  <defs>
    <linearGradient id="bgGradient2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f8faff" />
      <stop offset="100%" stop-color="#f0f6ff" />
    </linearGradient>
    
    <filter id="shadow2" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-opacity="0.2" />
    </filter>
    
    <!-- 아이콘 관련 정의 -->
    <linearGradient id="userGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#64b5f6" />
      <stop offset="100%" stop-color="#1976d2" />
    </linearGradient>
    
    <linearGradient id="ssoGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#80cbc4" />
      <stop offset="100%" stop-color="#00897b" />
    </linearGradient>
    
    <linearGradient id="authGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#ffb74d" />
      <stop offset="100%" stop-color="#f57c00" />
    </linearGradient>
    
    <linearGradient id="sessionGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#9fa8da" />
      <stop offset="100%" stop-color="#3949ab" />
    </linearGradient>
    
    <linearGradient id="accessGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#81c784" />
      <stop offset="100%" stop-color="#388e3c" />
    </linearGradient>
    
    <!-- 화살표 마커 정의 -->
    <marker id="arrowMarker" viewBox="0 0 10 10" refX="9" refY="5"
      markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#666" />
    </marker>
    
    <marker id="dotMarker" viewBox="0 0 10 10" refX="5" refY="5"
      markerWidth="5" markerHeight="5" orient="auto">
      <circle cx="5" cy="5" r="4" fill="#666" />
    </marker>
  </defs>
  
  <!-- 배경 -->
  <rect x="0" y="0" width="900" height="500" fill="url(#bgGradient2)" rx="10" ry="10" />
  
  <!-- 제목 -->
  <text x="450" y="40" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#444">로그인 프로세스 흐름도</text>
  
  <!-- 액터 및 시스템 컴포넌트 -->
  <!-- 사용자 -->
  <g transform="translate(100, 120)">
    <circle cx="0" cy="-30" r="20" fill="url(#userGrad)" filter="url(#shadow2)" />
    <path d="M0,-40 C-5,-40 -10,-35 -10,-30 C-10,-25 -5,-20 0,-20 C5,-20 10,-25 10,-30 C10,-35 5,-40 0,-40 Z M-15,-10 C-15,-10 -15,10 0,10 C15,10 15,-10 15,-10 C15,-10 8,-15 0,-15 C-8,-15 -15,-10 -15,-10 Z" fill="url(#userGrad)" filter="url(#shadow2)" />
    <rect x="-60" y="20" width="120" height="40" rx="8" ry="8" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="0" y="45" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#444">사용자</text>
    <line x1="0" y1="60" x2="0" y2="350" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5" />
  </g>
  
  <!-- SSO 인증 서버 -->
  <g transform="translate(250, 120)">
    <rect x="-40" y="-40" width="80" height="80" rx="10" ry="10" fill="url(#ssoGrad)" filter="url(#shadow2)" />
    <path d="M-20,-15 L20,-15 L20,10 C20,15 0,25 0,25 C0,25 -20,15 -20,10 Z M-10,-5 L10,-5 M-10,5 L10,5" stroke="white" stroke-width="2" fill="none" />
    <rect x="-60" y="60" width="120" height="40" rx="8" ry="8" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="0" y="85" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#444">SSO 인증 서버</text>
    <line x1="0" y1="100" x2="0" y2="350" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5" />
  </g>
  
  <!-- 인증 관리자 -->
  <g transform="translate(400, 120)">
    <rect x="-40" y="-40" width="80" height="80" rx="10" ry="10" fill="url(#authGrad)" filter="url(#shadow2)" />
    <path d="M-20,-20 L20,-20 L20,0 L-20,0 Z M-10,10 L10,10 L10,20 L-10,20 Z M0,0 L0,10" stroke="white" stroke-width="2" fill="none" />
    <rect x="-60" y="60" width="120" height="40" rx="8" ry="8" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="0" y="85" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#444">인증 관리자</text>
    <line x1="0" y1="100" x2="0" y2="350" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5" />
  </g>
  
  <!-- 세션 관리자 -->
  <g transform="translate(550, 120)">
    <rect x="-40" y="-40" width="80" height="80" rx="10" ry="10" fill="url(#sessionGrad)" filter="url(#shadow2)" />
    <path d="M-20,-20 L20,-20 L20,20 L-20,20 Z M-10,-10 L10,-10 M-10,0 L10,0 M-10,10 L10,10" stroke="white" stroke-width="2" fill="none" />
    <rect x="-60" y="60" width="120" height="40" rx="8" ry="8" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="0" y="85" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#444">세션 관리자</text>
    <line x1="0" y1="100" x2="0" y2="350" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5" />
  </g>
  
  <!-- 접근 제어 시스템 -->
  <g transform="translate(700, 120)">
    <rect x="-40" y="-40" width="80" height="80" rx="10" ry="10" fill="url(#accessGrad)" filter="url(#shadow2)" />
    <path d="M-20,-10 L20,-10 M-20,0 L20,0 M-20,10 L20,10 M-10,-20 L-10,20 M0,-20 L0,20 M10,-20 L10,20" stroke="white" stroke-width="2" fill="none" />
    <rect x="-60" y="60" width="120" height="40" rx="8" ry="8" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="0" y="85" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#444">접근 제어 시스템</text>
    <line x1="0" y1="100" x2="0" y2="350" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5" />
  </g>
  
  <!-- 흐름 화살표 및 텍스트 -->
  <!-- 1. 로그인 요청 -->
  <g>
    <path d="M100,160 L250,160" stroke="#666" stroke-width="2" marker-end="url(#arrowMarker)" fill="none" />
    <rect x="140" y="140" width="70" height="30" rx="15" ry="15" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="175" y="160" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">로그인 요청</text>
  </g>
  
  <!-- 2. 사용자 인증 요청 -->
  <g>
    <path d="M250,180 L400,180" stroke="#666" stroke-width="2" marker-end="url(#arrowMarker)" fill="none" />
    <rect x="290" y="160" width="70" height="30" rx="15" ry="15" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="325" y="180" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">인증 요청</text>
  </g>
  
  <!-- 3. 인증 결과 반환 -->
  <g>
    <path d="M400,200 L250,200" stroke="#666" stroke-width="2" marker-end="url(#arrowMarker)" fill="none" />
    <rect x="290" y="180" width="70" height="30" rx="15" ry="15" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="325" y="200" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">인증 결과</text>
  </g>
  
  <!-- 4. 인증 토큰 발급 -->
  <g>
    <path d="M250,220 L100,220" stroke="#666" stroke-width="2" marker-end="url(#arrowMarker)" stroke-dasharray="5,3" fill="none" />
    <rect x="140" y="200" width="70" height="30" rx="15" ry="15" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="175" y="220" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">토큰 발급</text>
  </g>
  
  <!-- 5. 서비스 접근 요청 -->
  <g>
    <path d="M100,240 L550,240" stroke="#666" stroke-width="2" marker-end="url(#arrowMarker)" fill="none" />
    <rect x="270" y="220" width="110" height="30" rx="15" ry="15" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="325" y="240" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">서비스 접근 요청</text>
  </g>
  
  <!-- 6. 토큰 검증 -->
  <g>
    <path d="M550,260 L400,260" stroke="#666" stroke-width="2" marker-end="url(#arrowMarker)" fill="none" />
    <rect x="445" y="240" width="60" height="30" rx="15" ry="15" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="475" y="260" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">토큰 검증</text>
  </g>
  
  <!-- 7. 검증 결과 -->
  <g>
    <path d="M400,280 L550,280" stroke="#666" stroke-width="2" marker-end="url(#arrowMarker)" fill="none" />
    <rect x="445" y="260" width="60" height="30" rx="15" ry="15" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="475" y="280" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">검증 결과</text>
  </g>
  
  <!-- 8. 사용자 권한 조회 -->
  <g>
    <path d="M550,300 L700,300" stroke="#666" stroke-width="2" marker-end="url(#arrowMarker)" fill="none" />
    <rect x="590" y="280" width="70" height="30" rx="15" ry="15" fill="white" stroke="#ddd" stroke-width="1" filter="url(#shadow2)" />
    <text x="625" y="300" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">권한 조회</text>
  </g>
  
  <!-- 9. 권한 정보 반환 -->
  <g>
    <path d="M700,320 L550,320" stroke="#666" stroke-width